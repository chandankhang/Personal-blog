<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Blog</title>
  <link rel="stylesheet" href="/src/style.css">
</head>

<body>

  <div class="container">
    <h1>Welcome to My Blog </h1>
    <!-- Form to create a new post -->
    <form action="/create" method="post">
      <label for="title">Post Title:</label>
      <input type="text" id="title" name="title" placeholder="Enter your post title" required>

      <label for="content">Post Content:</label>
      <textarea name="content" id="content"onkeydown="if(event.key === 'Enter') this.form.submit();" placeholder="Write your post here..." rows="6" required></textarea>

      <button type="submit" >Create Post</button>
    </form>

    <!-- Placeholder for displaying posts -->
    <section class="posts">
      <h2>My Posts</h2>
      <% if(posts.length===0) { %>
           <p>NO posts yet. Create One above!</p>

        <% } else { %>
          <% posts.forEach((post,index) => { %>
            <div class="post">
              <h3> <%= post.title %></h3>
              <p><%= post.content %></p>
              <!-- Edit and Delete buttons   -->
               <a href="/edit/<%= index %>">
                <button>Edit</button>
               </a>
            
               <form action="/delete/<%= index %>" method="post" >
                <button type="submit">Delete</button>
               </form>
            </div>

          <% }); } %>

      
   
    </section>

  </div>


</body>

</html>